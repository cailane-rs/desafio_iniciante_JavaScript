<script>

    alert("Calcular a soma de todos os valores de uma matriz na mão, é mole?! Relaxa que o robô Desenvolve faz isso para você!");

    function recebeValores(nomeDoValor, quantidade) {

        let respostaDoUsuario = prompt(`Informe o número de ${nomeDoValor}:`);
        quantidade = parseInt(respostaDoUsuario);

        let valorInvalido = true;

        while (valorInvalido) {
            if (quantidade >= 1 && quantidade <= 1000) {
                return quantidade;
                valorInvalido = false;
            } else {
                respostaDoUsuario = prompt("Elemento inválido, por favor insira um número de 1 a 100!");
                quantidade = parseInt(respostaDoUsuario);
            }
        }
    }

    let linhas;
    let colunas;

    function constroiMatriz(linhas, colunas) {

        let matriz = [];
        let valorDoIndice = 1;

        for (let i = 0; i < linhas; i++) {
            matriz[i] = [];

            for (let j = 0; j < colunas; j++) {
                matriz[i][j] = valorDoIndice;
                valorDoIndice++;
            }

            somaValoresDoArray(matriz[i], i);
        }
        console.log(matriz);
        console.log(valoresDaMatriz);
        somaValoresDaMatriz();
    }

    let valoresDaMatriz = [];

    function somaValoresDoArray(array, indice) {

        return valoresDaMatriz[indice] = array.reduce((acum, atual) => atual + acum, 0);

    }

    function somaValoresDaMatriz() {
        document.write("A soma de todos os valores da Matriz é: " +  valoresDaMatriz.reduce((acum, atual) => atual + acum, 0));

    }

    constroiMatriz(recebeValores("linhas", linhas), recebeValores("colunas", colunas));
</script>